{% extends "_layout.html" %}
{% block title %}New Account{% endblock %}
{% block content %}
  <div class="card">
    <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;">
      <h1 style="margin-top:0;">Create New Account</h1>
      <a class="button button--secondary" href="{{ url_for('admin.accounts_list') }}">‚Üê Back to Accounts</a>
    </div>
  </div>

  <div style="height:14px;"></div>

  <div class="card">
    <form class="form" method="post" action="{{ url_for('admin.accounts_new_post') }}" style="max-width:500px;">
      <div>
        <div class="label">Email *</div>
        <input type="email" name="email" required placeholder="user@company.com" autocomplete="off" />
      </div>

      <div>
        <div class="label">Password *</div>
        <input type="password" name="password" required minlength="8" placeholder="Minimum 8 characters" autocomplete="new-password" />
        <div class="muted" style="font-size:11px; margin-top:4px;">Must be at least 8 characters</div>
      </div>

      <div>
        <div class="label">Confirm Password *</div>
        <input type="password" name="password_confirm" required minlength="8" placeholder="Re-enter password" autocomplete="new-password" />
      </div>

      <div style="margin-top:16px;">
        <div class="label">Roles</div>
        <div style="display:flex; flex-direction:column; gap:8px; margin-top:8px;">
          {% for role in roles %}
            <label style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" name="role_ids" value="{{ role.id }}" {% if role.key == 'admin' %}checked{% endif %} />
              <span>{{ role.name|e }}</span>
              <span class="muted" style="font-size:12px;">({{ role.key }})</span>
            </label>
          {% endfor %}
        </div>
      </div>

      <div style="display:flex; gap:10px; margin-top:20px;">
        <button class="button" type="submit">Create Account</button>
        <a class="button button--secondary" href="{{ url_for('admin.accounts_list') }}">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}
